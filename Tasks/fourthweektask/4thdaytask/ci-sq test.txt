import numpy as np

def chi_square_test(observed, expected):
    observed = np.array(observed)
    expected = np.array(expected)
    
    # Compute (O - E)^2 / E for each cell and sum them up
    chi2 = np.sum((observed - expected)**2 / expected)
    
    # Degrees of freedom
    df = (observed.shape[0] - 1) * (observed.shape[1] - 1)
    
    # Calculate p-value
    p_value = 1 - stats.chi2.cdf(chi2, df)
    
    return chi2, p_value

# Example usage:
observed_frequencies = [[10, 20, 30], [15, 25, 3
